<script>

function computerPlay(){
	let num = Math.random();
	if(num <= 0.33){
		return 'rock';
	} else if (num <= 0.66){
		return 'scissors';
	} else if (num < 1){
		return 'paper';
	}
}

function game(){

	let wins_player = 0;
	let wins_computer = 0;

	while(wins_player + wins_computer < 5){
		let playerSelection = prompt();
		let computerSelection = computerPlay();
		console.log(playRound(playerSelection, computerSelection));
	}

	if(wins_computer > wins_player){
		return `Computer gewinnt mit ${wins_computer} zu ${wins_player}`;
	} else {
		return `Player gewinnt mit ${wins_player} zu ${wins_computer}`
	}

	function playRound(playerSelection, computerSelection){
		let ps = playerSelection.toLowerCase();
		let cs = computerSelection.toLowerCase();

		if(ps == cs){
			return `Unentschieden! Beide haben ${ps} gewählt.`;
		} else if (ps == 'rock' && cs == 'paper'){
			wins_computer++;
			return `Verloren! ${cs} schlägt ${ps}`;
		} else if (ps == 'rock' && cs == 'scissors'){
			wins_player++;
			return `Gewonnen! ${ps} schlägt ${cs}`;
		} else if (ps == 'scissors' && cs == 'rock'){
			wins_computer++;
			return `Verloren! ${cs} schlägt ${ps}`;
		} else if (ps == 'scissors' && cs == 'paper'){
			wins_player++;
			return `Gewonnen! ${ps} schlägt ${cs}`;
		} else if (ps == 'paper' && cs == 'scissors'){
			wins_computer++;
			return `Verloren! ${cs} schlägt ${ps}`;
		} else if (ps == 'paper' && cs == 'rock'){
			wins_player++;
			return `Gewonnen! ${ps} schlägt ${cs}`;
		}
	}	

}

console.log(game());

</script>
